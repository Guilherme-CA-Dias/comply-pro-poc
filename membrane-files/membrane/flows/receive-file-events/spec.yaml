id: 69455ed1cc3462d5fc4292c5
name: Receive File Events
uuid: 172849de-19f4-49d9-83bd-1b33f9d54996
key: receive-file-events
state: READY
errors: []
revision: d8df63d2-c5fa-4944-a130-98fac236989e
createdAt: '2025-12-19T14:18:57.239Z'
updatedAt: '2025-12-21T23:16:00.236Z'
isDeactivated: false
nodes:
  file-created-trigger:
    type: data-record-created-trigger
    name: File Created Trigger
    config:
      dataSource:
        key: files
    outputSchema:
      type: object
      properties:
        type:
          type: string
        record:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            uri:
              type: string
              format: url
            createdTime:
              type: string
              format: datetime
            updatedTime:
              type: string
              format: datetime
            deletedTime:
              type: string
              format: datetime
            createdById:
              type: string
            updatedById:
              type: string
            fields:
              type: object
      title: File Created Trigger
    links:
      - key: get-all-file-fields-by-id
  file-updated-trigger:
    type: data-record-updated-trigger
    name: File Updated Trigger
    config:
      dataSource:
        key: files
    outputSchema:
      type: object
      properties:
        type:
          type: string
        record:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            uri:
              type: string
              format: url
            createdTime:
              type: string
              format: datetime
            updatedTime:
              type: string
              format: datetime
            deletedTime:
              type: string
              format: datetime
            createdById:
              type: string
            updatedById:
              type: string
            fields:
              type: object
      title: File Updated Trigger
    links:
      - key: get-all-file-fields-by-id
  get-all-file-fields-by-id:
    type: find-data-record-by-id
    name: Get all File fields by Id
    config:
      dataSource:
        key: files
      fieldMapping:
        key: files
        includeRawFields: true
      id:
        $firstNotEmpty:
          - $var: $.input.file-created-trigger.record.id
          - $var: $.input.file-updated-trigger.record.id
    outputSchema:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        uri:
          type: string
          format: url
        createdTime:
          type: string
          format: datetime
        updatedTime:
          type: string
          format: datetime
        deletedTime:
          type: string
          format: datetime
        createdById:
          type: string
        updatedById:
          type: string
        fields:
          type: object
          properties:
            ExternalId:
              type: string
              isImplied: true
              title: External Id
            SourceCreatedDate:
              type: string
              format: date-time
              isImplied: true
              title: Source Created Date
            SourceCreatedBy:
              type: string
              referenceUdm: users
              isImplied: true
              title: Source Created By
            SourceLastModifiedDate:
              type: string
              format: date-time
              isImplied: true
              title: Source Last Modified Date
            SourceLastModifiedBy:
              type: string
              referenceUdm: users
              isImplied: true
              title: Source Last Modified By
            Location:
              type: string
              isImplied: true
              title: Location
            MimeType:
              type: string
              isImplied: true
              title: Mime Type
            MediaType:
              type: string
              isImplied: true
              title: Media Type
            Title:
              type: string
              isImplied: true
              title: Title
            FileDirRef:
              type: string
              referenceUdm: folders
              isImplied: true
              title: File Dir Ref
            SiteName:
              type: string
              referenceUdm: folders
              isImplied: true
              title: Site Name
            FileSize:
              type: integer
              isImplied: true
              title: File Size
            ListUrl:
              type: string
              isImplied: true
              title: List Url
          isImplied: true
        rawFields:
          type: object
      title: Get all File fields by Id
    links:
      - key: send-file-to-my-app
    inputSchema:
      type: object
      title: Previous Steps
      properties:
        file-created-trigger:
          type: object
          properties:
            type:
              type: string
            record:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
                uri:
                  type: string
                  format: url
                createdTime:
                  type: string
                  format: datetime
                updatedTime:
                  type: string
                  format: datetime
                deletedTime:
                  type: string
                  format: datetime
                createdById:
                  type: string
                updatedById:
                  type: string
                fields:
                  type: object
          title: File Created Trigger
        file-updated-trigger:
          type: object
          properties:
            type:
              type: string
            record:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
                uri:
                  type: string
                  format: url
                createdTime:
                  type: string
                  format: datetime
                updatedTime:
                  type: string
                  format: datetime
                deletedTime:
                  type: string
                  format: datetime
                createdById:
                  type: string
                updatedById:
                  type: string
                fields:
                  type: object
          title: File Updated Trigger
  delete-file-in-my-app:
    type: api-request-to-your-app
    name: Delete File from My App
    config:
      request:
        body:
          externalFileId:
            $var: $.input.file-deleted-trigger.record.id
          type: deleted
          customerId:
            $var: $.user.internalId
          data:
            $var: $.input.file-deleted-trigger.record
          recordType: get-files
        method: POST
        uri: /api/webhooks
    outputSchema:
      type: object
      properties:
        response:
          type: object
          properties:
            status:
              type: integer
            data: {}
      title: Delete File from My App
    links: []
    inputSchema:
      type: object
      title: Previous Steps
      properties:
        file-deleted-trigger:
          type: object
          properties:
            type:
              type: string
            record:
              type: object
              properties:
                id:
                  type: string
          title: File Deleted Trigger
  file-deleted-trigger:
    type: data-record-deleted-trigger
    name: File Deleted Trigger
    config:
      dataSource:
        key: files
    outputSchema:
      type: object
      properties:
        type:
          type: string
        record:
          type: object
          properties:
            id:
              type: string
      title: File Deleted Trigger
    links:
      - key: delete-file-in-my-app
  send-file-to-my-app:
    type: api-request-to-your-app
    name: Send File to my App
    config:
      request:
        body:
          customerId:
            $var: $.user.internalId
          recordType: get-files
          createdTime:
            $var: $.input.get-all-file-fields-by-id.createdTime
          updatedTime:
            $var: $.input.get-all-file-fields-by-id.updatedTime
          data:
            $var: $.input.get-all-file-fields-by-id
        uri: /api/webhooks
        method: POST
    outputSchema:
      type: object
      properties:
        response:
          type: object
          properties:
            status:
              type: integer
            data: {}
      title: Send File to my App
    links: []
    inputSchema:
      type: object
      title: Previous Steps
      properties:
        file-created-trigger:
          type: object
          properties:
            type:
              type: string
            record:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
                uri:
                  type: string
                  format: url
                createdTime:
                  type: string
                  format: datetime
                updatedTime:
                  type: string
                  format: datetime
                deletedTime:
                  type: string
                  format: datetime
                createdById:
                  type: string
                updatedById:
                  type: string
                fields:
                  type: object
          title: File Created Trigger
        file-updated-trigger:
          type: object
          properties:
            type:
              type: string
            record:
              type: object
              properties:
                id:
                  type: string
                name:
                  type: string
                uri:
                  type: string
                  format: url
                createdTime:
                  type: string
                  format: datetime
                updatedTime:
                  type: string
                  format: datetime
                deletedTime:
                  type: string
                  format: datetime
                createdById:
                  type: string
                updatedById:
                  type: string
                fields:
                  type: object
          title: File Updated Trigger
        get-all-file-fields-by-id:
          type: object
          properties:
            id:
              type: string
            name:
              type: string
            uri:
              type: string
              format: url
            createdTime:
              type: string
              format: datetime
            updatedTime:
              type: string
              format: datetime
            deletedTime:
              type: string
              format: datetime
            createdById:
              type: string
            updatedById:
              type: string
            fields:
              type: object
              properties:
                ExternalId:
                  type: string
                  isImplied: true
                  title: External Id
                SourceCreatedDate:
                  type: string
                  format: date-time
                  isImplied: true
                  title: Source Created Date
                SourceCreatedBy:
                  type: string
                  referenceUdm: users
                  isImplied: true
                  title: Source Created By
                SourceLastModifiedDate:
                  type: string
                  format: date-time
                  isImplied: true
                  title: Source Last Modified Date
                SourceLastModifiedBy:
                  type: string
                  referenceUdm: users
                  isImplied: true
                  title: Source Last Modified By
                Location:
                  type: string
                  isImplied: true
                  title: Location
                MimeType:
                  type: string
                  isImplied: true
                  title: Mime Type
                MediaType:
                  type: string
                  isImplied: true
                  title: Media Type
                Title:
                  type: string
                  isImplied: true
                  title: Title
                FileDirRef:
                  type: string
                  referenceUdm: folders
                  isImplied: true
                  title: File Dir Ref
                SiteName:
                  type: string
                  referenceUdm: folders
                  isImplied: true
                  title: Site Name
                FileSize:
                  type: integer
                  isImplied: true
                  title: File Size
                ListUrl:
                  type: string
                  isImplied: true
                  title: List Url
              isImplied: true
            rawFields:
              type: object
          title: Get all File fields by Id
autoCreateInstances: false
isCustomized: true
